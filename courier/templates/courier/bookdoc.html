{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>DK Courier</title>
  <link rel="icon" href="{% static 'courier/images/logo.png' %}" type="image/x-icon">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
  <style>
    body {
      padding-bottom: 60px;
    }
    .form-section-title {
      margin: 30px 0 15px;
      font-weight: bold;
      text-align: center;
      border-bottom: 2px solid #198754;
      padding-bottom: 5px;
      color: #198754;
    }
    label {
      font-weight: 500;
    }
    .form-control, .form-select {
      border-radius: 0.5rem;
    }
    .hidden {
      display: none !important;
    }
  </style>
  <script>
    function setDefaultDate() {
      const now = new Date();
      const formattedDate = `${now.getFullYear()}-${String(now.getMonth() + 1).padStart(2, '0')}-${String(now.getDate()).padStart(2, '0')}`;
      document.getElementById('realDateTextBox').value = formattedDate;
    }
    window.onload = setDefaultDate;
  </script>
</head>
<body>
  {% include "courier/dashboard-nav.html" %}

  <div class="container my-3">
    <div class="d-flex align-items-center justify-content-center gap-3">
      <img src="{% static 'courier/images/logo.png' %}" alt="DK Courier Logo" style="height: 60px;">
      <div class="text-start lh-sm">
        <h5 class="mb-0">DK Courier and Cargo Services</h5>
        <small>Birtamode, Jhapa | 023-53, 9824915826</small>
      </div>
    </div>
  </div>

  <div class="container">
    <form method="post">
      {% csrf_token %}
      <div class="row mb-3">
        
        <div class="col-md-3 col-sm-6 mb-2">
          <label>CN NO:</label>
          <p>DK170 <span id="cn">00</span></p>
        </div>
        <div class="col-md-3 col-sm-6 mb-2">
          <label>Destination Country <span class="text-danger">*</span></label>
          <select name="country" id="countrySelect" class="form-select" required>
            <option value="">Select Country</option>
            <option value="Nepal">Nepal</option>
            <option value="India">India</option>
            <option value="UAE">UAE</option>
            <option value="Australia">Australia</option>
            <option value="Canada">Canada</option>
            <option value="Qatar">Qatar</option>
            <option value="Saudi Arebia">Saudi arebia</option>
            <option value="USA">USA</option>
          </select>
        </div>
        <div class="col-md-3 col-sm-6 mb-2 hidden" id="districtWrapper">
          <label>Destination District <span class="text-danger">*</span></label>
          <select name="district" id="districtSelect" class="form-select">
            <option value="" disabled>Select District</option>
                                        <option value="acham">Acham</option>
                                        <option value="arghakhanchi">Arghakhanchi</option>
                                        <option value="baglung">Baglung</option>
                                        <option value="bajhang">Bajhang</option>
                                        <option value="bajura">Bajura</option>
                                        <option value="baitadi">Baitadi</option>
                                        <option value="banke">Banke</option>
                                        <option value="bardiya">Bardiya</option>
                                        <option value="bara">Bara</option>
                                        <option value="Bhaktapur">Bhaktapur</option>
                                        <option value="bhojpur">Bhojpur</option>
                                        <option value="chitwan">Chitwan</option>
                                        <option value="dadeldhura">Dadeldhura</option>
                                        <option value="Dang">Dang</option>
                                        <option value="dailekh">Dailekh</option>
                                        <option value="darchula">Darchula</option>
                                        <option value="dhading">Dhading</option>
                                        <option value="dhankuta">Dhankuta</option>
                                        <option value="dhanusha">Dhanusha</option>
                                        <option value="dolakha">Dolakha</option>
                                        <option value="dolpa">Dolpa</option>
                                        <option value="doti">Doti</option>
                                        <option value="eastern_rukum">Eastern Rukum</option>
                                        <option value="gulmi">Gulmi</option>
                                        <option value="gorkha">Gorkha</option>
                                        <option value="humla">Humla</option>
                                        <option value="ilam">Ilam</option>
                                        <option value="jhapa">Jhapa</option>
                                        <option value="jajarkot">Jajarkot</option>
                                        <option value="jumla">Jumla</option>
                                        <option value="Kathmandu">Kathmandu</option>
                                        <option value="kanchanpur">Kanchanpur</option>
                                        <option value="kailali">Kailali</option>
                                        <option value="kalikot">Kalikot</option>
                                        <option value="kapilvastu">Kapilvastu</option>
                                        <option value="kaski">Kaski</option>
                                        <option value="khotang">Khotang</option>
                                        <option value="kavrepalanchok">Kavrepalanchok</option>
                                        <option value="lalitpur">Lalitpur</option>
                                        <option value="lamjung">Lamjung</option>
                                        <option value="mahendranagar">Mahendranagar</option>
                                        <option value="mahottari">Mahottari</option>
                                        <option value="makwanpur">Makwanpur</option>
                                        <option value="manang">Manang</option>
                                        <option value="morang">Morang</option>
                                        <option value="mugu">Mugu</option>
                                        <option value="myagdi">Myagdi</option>
                                        <option value="mustang">Mustang</option>
                                        <option value="nawalpur">Nawalpur</option>
                                        <option value="east-nawalparasi">East-Nawalparasi</option>
                                        <option value="west-nawalparasi">West-Nawalparasi</option>
                                        <option value="nuwakot">Nuwakot</option>
                                        <option value="okhaldhunga">Okhaldhunga</option>
                                        <option value="parbat">Parbat</option>
                                        <option value="parsa">Parsa</option>
                                        <option value="pachthar">Pachthar</option>
                                        <option value="palpa">Palpa</option>
                                        <option value="pyuthan">Pyuthan</option>
                                        <option value="rajbiraj">Rajbiraj</option>
                                        <option value="rautahat">Rautahat</option>
                                        <option value="ramechap">Ramechap</option>
                                        <option value="rasuwa">Rasuwa</option>
                                        <option value="Rupandehi">Rupandehi</option>
                                        <option value="Rolpa">Rolpa</option>
                                        <option value="salyan">Salyan</option>
                                        <option value="sankhuwasabha">Sankhuwasabha</option>
                                        <option value="saptari">Saptari</option>
                                        <option value="sarlahi">Sarlahi</option>
                                        <option value="sindhuli">Sindhuli</option>
                                        <option value="sindhupalchok">Sindhupalchok</option>
                                        <option value="siraha">Siraha</option>
                                        <option value="solukhumbu">Solukhumbu</option>
                                        <option value="sunsari">Sunsari</option>
                                        <option value="Surkhet">Surkhet</option>
                                        <option value="Syangja">Syangja</option>
                                        <option value="tanahun">Tanahun</option>
                                        <option value="taplejung">Taplejung</option>
                                        <option value="terhathum">Terhathum</option>
                                        <option value="udayapur">Udayapur</option>
                                        <option value="western_rukum">Western Rukum</option>
          </select>
        </div>
        <div class="col-md-3 col-sm-6 mb-2">
          <label>Packet Type <span class="text-danger">*</span></label>
          <select name="pactype" class="form-select" required>
            <option value="">--None--</option>
            <option value="Document">Document</option>
            <option value="Parcel">Parcel</option>
          </select>
        </div>
        <div class="col-md-3 col-sm-6 mb-2">
          <label>Booking Date</label>
          <input type="text" name="date" id="realDateTextBox" class="form-control" readonly>
        </div>
      </div>

      <h5 class="form-section-title">Sender Details</h5>
      <div class="row mb-3">
        <div class="col-md-4 mb-2">
          <label>Name <span class="text-danger">*</span></label>
          <input type="text" name="Sname" class="form-control" value="Birtamod" required>
        </div>
        <div class="col-md-4 mb-2">
          <label>Phone Number <span class="text-danger">*</span></label>
          <input type="tel" name="Snumber" pattern="[0-9]{10}" class="form-control" value="9800000000" required>
        </div>
        <div class="col-md-4 mb-2">
          <label>Address Line 1 <span class="text-danger">*</span></label>
          <input type="text" name="Saddress" class="form-control" value="BTM" required>
        </div>
        <div class="col-md-12">
          <label>Address Line 2</label>
          <input type="text" name="Saddress1" class="form-control">
        </div>
      </div>

      <h5 class="form-section-title">Receiver Details</h5>
      <div class="row mb-3">
        <div class="col-md-4 mb-2">
          <label>Name <span class="text-danger">*</span></label>
          <input type="text" name="Rname" class="form-control" required>
        </div>
        <div class="col-md-4 mb-2">
          <label>Phone Number <span class="text-danger">*</span></label>
          <input type="tel" name="Rnumber" pattern="[0-9]{10}" class="form-control" required>
        </div>
        <div class="col-md-4 mb-2">
          <label>Address Line 1 <span class="text-danger">*</span></label>
          <input type="text" name="Raddress" class="form-control" required>
        </div>
        <div class="col-md-12">
          <label>Address Line 2</label>
          <input type="text" name="Raddress1" class="form-control">
        </div>
      </div>

      <h5 class="form-section-title">Package & Payment Info</h5>
      <div class="row mb-3">
        <div class="col-md-2 col-sm-6 mb-2">
          <label>Payment</label>
          <select name="payments" class="form-select">
            <option value="Cash">Cash</option>
            <option value="Credit">Credit</option>
            <option value="COD">COD</option>
          </select>
        </div>
        <div class="col-md-2 col-sm-6 mb-2">
          <label>Delivery Service <span class="text-danger">*</span></label>
          <select name="service" class="form-select" required>
            <option value="Door to Door">Door to Door</option>
            <option value="Office Collect">Office Collect</option>
          </select>
        </div>
        <div class="col-md-2 col-sm-6 mb-2">
          <label>Total Valuation (RS) <span class="text-danger">*</span></label>
          <input type="text" name="price" class="form-control" value="100">
        </div>
        <div class="col-md-2 col-sm-6 mb-2">
          <label>Weight (KG) <span class="text-danger">*</span></label>
          <input type="number" name="weight" class="form-control" required>
        </div>
        <div class="col-md-2 col-sm-6 mb-2">
          <label>Pieces</label>
          <input type="number" name="pieces" class="form-control" value="1" required>
        </div>
        <div class="col-md-2 col-sm-6 mb-2">
          <label>Booked By</label>
          <input type="text" name="Bookby" class="form-control" value="ko hola">
        </div>
      </div>

      <div class="text-center mt-4">
        <button type="submit" class="btn btn-success px-5 py-2">Submit</button>
      </div>
    </form>
  </div>

  <script>
    document.getElementById("countrySelect").addEventListener("change", function () {
      const districtWrapper = document.getElementById("districtWrapper");
      const districtSelect = document.getElementById("districtSelect");
      if (this.value === "Nepal") {
        districtWrapper.classList.remove("hidden");
        districtSelect.required = true;
      } else {
        districtWrapper.classList.add("hidden");
        districtSelect.required = false;
        districtSelect.value = "";
      }
    });
  </script>
</body>
</html>